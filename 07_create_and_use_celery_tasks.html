
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>7. Create &amp; Use Celery Tasks &#8212; Time &amp; Tasks 2</title>
    
  <link rel="stylesheet" href="_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="_static/sphinx-book-theme.2d2078699c18a0efb88233928e1cf6ed.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.be0a4a0c39cd630af62a2fcf693f3f06.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="8. Django App &amp; Model" href="08_Django_App_%26_Model.html" />
    <link rel="prev" title="6. Web Scraping Client" href="06_web_scraping_client.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  
  <h1 class="site-logo" id="site-title">Time & Tasks 2</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="Welcome.html">
   Welcome to Time &amp; Tasks 2
  </a>
 </li>
</ul>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="01_start_here.html">
   1. Start Here
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02_installations.html">
   2. Python &amp; Virtual Environments
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03_install_redis.html">
   3. Install Redis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="04_setup_project.html">
   4. Setup Project
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="05_integrate_celery_and_django.html">
   5. Integrate Celery &amp; Django
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06_web_scraping_client.html">
   6. Web Scraping Client
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   7. Create &amp; Use Celery Tasks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08_Django_App_%26_Model.html">
   8. Django  App &amp; Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="09_scheduling_tasks_in_django.html">
   9. Scheduling Tasks in Django
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/07_create_and_use_celery_tasks.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/07_create_and_use_celery_tasks.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/executablebooks/jupyter-book/blob/master/07_create_and_use_celery_tasks.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#call-tasks-cheat-sheet">
   7.1. Call Tasks Cheat Sheet
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#stocks-app">
   7.2. Stocks app
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#stocks-tasks-py">
   7.3.
   <code class="docutils literal notranslate">
    <span class="pre">
     stocks.tasks.py
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#start-the-celery-worker">
   7.4. Start the Celery Worker
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#test-our-perform-scrape-task">
   7.5. Test our
   <code class="docutils literal notranslate">
    <span class="pre">
     perform_scrape
    </span>
   </code>
   task
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#so-why-not-just-use-async-await">
   7.6. So why not just use
   <code class="docutils literal notranslate">
    <span class="pre">
     async
    </span>
   </code>
   /
   <code class="docutils literal notranslate">
    <span class="pre">
     await
    </span>
   </code>
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="create-use-celery-tasks">
<h1><span class="section-number">7. </span>Create &amp; Use Celery Tasks<a class="headerlink" href="#create-use-celery-tasks" title="Permalink to this headline">¶</a></h1>
<p>Celery Tasks are functions that can be either (1) normal blocking python execution or (2) delayed non-blocking execution.</p>
<p><strong>Normal, blocking, execution</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>

<span class="k">def</span> <span class="nf">hello_world</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;hello world </span><span class="si">{</span><span class="n">num</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    
<span class="n">hello_world</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">hello_world</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">hello_world</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>I would imagine you know blocking execution really well by now. The above function is an example of that.</p>
<p><strong>Delayed non-blocking execution</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="c1"># shared_task is ideal for Django</span>
<span class="kn">from</span> <span class="nn">celery</span> <span class="kn">import</span> <span class="n">shared_task</span>


<span class="nd">@shared_task</span>
<span class="k">def</span> <span class="nf">hello_world</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;hello world </span><span class="si">{</span><span class="n">num</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    
<span class="n">hello_world</span><span class="o">.</span><span class="n">delay</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">hello_world</span><span class="o">.</span><span class="n">delay</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">hello_world</span><span class="o">.</span><span class="n">delay</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">hello_world</span><span class="o">.</span><span class="n">apply_async</span><span class="p">(</span><span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;num&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">},</span> <span class="n">countdown</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>Here are the important things to note about the above code:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;shared_task</span></code> this decorator is so celery knows about this task. We’ll have a real example below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.delay()</span></code> since the <code class="docutils literal notranslate"><span class="pre">&#64;shared_task</span></code> decorator is implemented on the <code class="docutils literal notranslate"><span class="pre">hello_world</span></code> function, we can call this method. This is how we “delay” the execution of this function. This will run as soon as soon as the Celery worker can (we’ll implement this more later.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.apply_async()</span></code>: <code class="docutils literal notranslate"><span class="pre">.delay()</span></code> is actually a shortcut to <code class="docutils literal notranslate"><span class="pre">apply_async</span></code>. We have a lot more control over execution using <code class="docutils literal notranslate"><span class="pre">apply_async</span></code>.</p></li>
</ul>
<div class="section" id="call-tasks-cheat-sheet">
<h2><span class="section-number">7.1. </span>Call Tasks Cheat Sheet<a class="headerlink" href="#call-tasks-cheat-sheet" title="Permalink to this headline">¶</a></h2>
<p>These are pulled directly from the <a class="reference external" href="https://docs.celeryproject.org/en/stable/userguide/calling.html">docs</a></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">T.delay(arg,</span> <span class="pre">kwarg=value)</span></code>: Star arguments shortcut to <code class="docutils literal notranslate"><span class="pre">.apply_async</span></code>. (<code class="docutils literal notranslate"><span class="pre">.delay(*args,</span> <span class="pre">**kwargs)</span></code> calls <code class="docutils literal notranslate"><span class="pre">.apply_async(args,</span> <span class="pre">kwargs)</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">T.apply_async((arg,),</span> <span class="pre">{'kwarg':</span> <span class="pre">value})</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">T.apply_async(countdown=10)</span></code>: executes in 10 seconds from now.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">T.apply_async(eta=now</span> <span class="pre">+</span> <span class="pre">timedelta(seconds=10))</span></code>: executes in 10 seconds from now, specified using eta</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">T.apply_async(countdown=60,</span> <span class="pre">expires=120)</span></code>: executes in one minute from now, but expires after 2 minutes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">T.apply_async(expires=now</span> <span class="pre">+</span> <span class="pre">timedelta(days=2))</span></code>: expires in 2 days, set using datetime.</p></li>
</ul>
</div>
<div class="section" id="stocks-app">
<h2><span class="section-number">7.2. </span>Stocks app<a class="headerlink" href="#stocks-app" title="Permalink to this headline">¶</a></h2>
<p>In <a class="reference internal" href="04_setup_project.html#create-django-stock-app"><span class="std std-ref">Create Django App</span></a>, we started our <code class="docutils literal notranslate"><span class="pre">stocks</span></code> app with the following:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">python manage.py startapp stocks</span>
</pre></div>
</div>
<blockquote>
<div><p>Do this now if you haven’t already.</p>
</div></blockquote>
</div>
<div class="section" id="stocks-tasks-py">
<h2><span class="section-number">7.3. </span><code class="docutils literal notranslate"><span class="pre">stocks.tasks.py</span></code><a class="headerlink" href="#stocks-tasks-py" title="Permalink to this headline">¶</a></h2>
<p>Create a <code class="docutils literal notranslate"><span class="pre">tasks.py</span></code> file in your stocks app. When <code class="docutils literal notranslate"><span class="pre">Celery</span></code> is managed by <code class="docutils literal notranslate"><span class="pre">Django</span></code>, <code class="docutils literal notranslate"><span class="pre">tasks.py</span></code> is the default location to find all possible tasks that your worker will be able to run.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">celery</span> <span class="kn">import</span> <span class="n">shared_task</span>

<span class="kn">from</span> <span class="nn">.scraper</span> <span class="kn">import</span> 

<span class="nd">@shared_task</span>
<span class="k">def</span> <span class="nf">perform_scrape</span><span class="p">(</span><span class="n">ticker</span><span class="p">,</span> <span class="n">service</span><span class="o">=</span><span class="s1">&#39;echo&#39;</span><span class="p">):</span>
    <span class="n">name</span><span class="p">,</span> <span class="n">price</span> <span class="o">=</span> <span class="n">StockTickerScraper</span><span class="p">(</span><span class="n">service</span><span class="o">=</span><span class="s1">&#39;echo&#39;</span><span class="p">,</span> <span class="n">ticker</span><span class="o">=</span><span class="n">ticker</span><span class="p">)</span><span class="o">.</span><span class="n">scrape</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">price</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">name</span><span class="p">,</span> <span class="n">price</span>
</pre></div>
</div>
</div>
<div class="section" id="start-the-celery-worker">
<span id="running-celery-worker"></span><h2><span class="section-number">7.4. </span>Start the Celery Worker<a class="headerlink" href="#start-the-celery-worker" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">celery</span> <span class="o">-</span><span class="n">A</span> <span class="n">time_tasks</span> <span class="n">worker</span> <span class="o">--</span><span class="n">beat</span> <span class="o">--</span><span class="n">scheduler</span> <span class="n">django</span> <span class="o">--</span><span class="n">loglevel</span><span class="o">=</span><span class="n">info</span>
</pre></div>
</div>
</div>
<div class="section" id="test-our-perform-scrape-task">
<h2><span class="section-number">7.5. </span>Test our <code class="docutils literal notranslate"><span class="pre">perform_scrape</span></code> task<a class="headerlink" href="#test-our-perform-scrape-task" title="Permalink to this headline">¶</a></h2>
<p>Open a new command line (ie <code class="docutils literal notranslate"><span class="pre">terminal</span></code> or <code class="docutils literal notranslate"><span class="pre">powershell</span></code>) so we can make sure that the <a class="reference internal" href="#running-celery-worker"><span class="std std-ref">Start the Celery Worker</span></a> is running in addition to what we’ll do below.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">python manage.py shell</span>
</pre></div>
</div>
<p><strong>standard/blocking</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">stocks.tasks</span> <span class="kn">import</span> <span class="n">perform_scrape</span>

<span class="n">results</span> <span class="o">=</span> <span class="n">perform_scrape</span><span class="p">(</span><span class="s2">&quot;aapl&#39;, service=&#39;echo&#39;)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>delayed execution</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">perform_scrape</span><span class="o">.</span><span class="n">delay</span><span class="p">(</span><span class="s2">&quot;GOOG&#39;, service=&#39;echo&#39;)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>apply_async delayed execution</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">perform_scrape</span><span class="o">.</span><span class="n">apply_async</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;GOOG&quot;</span><span class="p">),</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;service&quot;</span><span class="p">:</span> <span class="s2">&quot;echo&quot;</span><span class="p">})</span>

<span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</pre></div>
</div>
<p>Did <code class="docutils literal notranslate"><span class="pre">print(results)</span></code> work the way you thought it would? I would assume not.</p>
<p>For the <strong>delayed execution</strong> calls, you will see a <code class="docutils literal notranslate"><span class="pre">shared_task</span></code> instance instead of the result of the executed function. The primary reason for this is to allow the task to be run later, canceled later, or interrupted later. <em>Later</em> is the key phrase because the <strong>delayed execution</strong> task will now be run by the <code class="docutils literal notranslate"><span class="pre">celery</span></code> worker.</p>
<blockquote>
<div><p>If the worker isn’t running, <strong>delayed execution</strong> still works it’s just the tasks will not run until the worker is running again.</p>
</div></blockquote>
</div>
<div class="section" id="so-why-not-just-use-async-await">
<h2><span class="section-number">7.6. </span>So why not just use <code class="docutils literal notranslate"><span class="pre">async</span></code> / <code class="docutils literal notranslate"><span class="pre">await</span></code><a class="headerlink" href="#so-why-not-just-use-async-await" title="Permalink to this headline">¶</a></h2>
<p>For non-blocking execution, <code class="docutils literal notranslate"><span class="pre">async</span></code> / <code class="docutils literal notranslate"><span class="pre">await</span></code> might be a better option within Python &amp; Django 3.1+ but that’s not always the case. The <strong>delayed execution</strong> managed by celery and, more importantly, a worker process offloads all of the work for the task to another process or even another server.</p>
<p>Here’s a few good examples where <strong>delayed execution</strong> via Celery is idea:</p>
<ul class="simple">
<li><p>Web scraping (both scheduled or merely delayed)</p></li>
<li><p>Machine learning (training, pre-processing, etc)</p></li>
<li><p>Sending usage reports (or really any other reports that require time to generate)</p></li>
</ul>
<p>Here’s a few good examples where <code class="docutils literal notranslate"><span class="pre">async</span></code> / <code class="docutils literal notranslate"><span class="pre">await</span></code> execution might be perferred choices:</p>
<ul class="simple">
<li><p>Sending a confirmation email</p></li>
<li><p>Updating a shopping cart</p></li>
<li><p>Retreiving directions</p></li>
<li><p>Bulk retreival of users to remove</p></li>
</ul>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="06_web_scraping_client.html" title="previous page"><span class="section-number">6. </span>Web Scraping Client</a>
    <a class='right-next' id="next-link" href="08_Django_App_%26_Model.html" title="next page"><span class="section-number">8. </span>Django  App &amp; Model</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Justin Mitchel<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>